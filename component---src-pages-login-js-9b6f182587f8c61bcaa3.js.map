{"version":3,"sources":["webpack:///./src/components/Card/Card.js","webpack:///./src/pages/login.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/components/Button/Button.js","webpack:///./src/components/Button/index.js","webpack:///./src/services/auth.js","webpack:///./.cache/public-page-renderer-prod.js"],"names":["CardHeader","styled","div","_templateObject","CardBody","_templateObject2","CardFooter","_templateObject3","Card","_templateObject4","LoginButton","Button","login_templateObject","FormControl","login_templateObject2","LoginFormCard","login_templateObject3","LoginPage","_useState","useState","username","setUsername","_useState2","password","setPassword","isLoggedIn","navigate","react_default","a","createElement","method","onSubmit","event","preventDefault","axios","get","then","response","console","table","data","handleLogin","catch","error","handleSubmit","htmlFor","id","onChange","target","value","type","__webpack_require__","d","__webpack_exports__","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","React","createContext","props","Consumer","staticQueryData","query","render","children","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","require","default","button","primary","round","bool","secondary","defaultProps","getUser","window","localStorage","getItem","JSON","parse","setUser","user","setItem","stringify","_ref","email","firstname","lastname","log","endsWith","logout","callback","ProdPageRenderer","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","shape"],"mappings":"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","file":"component---src-pages-login-js-9b6f182587f8c61bcaa3.js","sourcesContent":["import styled from 'styled-components'\n\nexport const CardHeader = styled.div`\n    padding: 0.5rem 1rem;\n    background-color: var(--color-black);\n    color: var(--color-white);\n    border-bottom: 1px solid var(--color-grey);\n`\n\nexport const CardBody = styled.div`\n    padding: 1rem;\n`\n\nexport const CardFooter = styled.div`\n    padding: 0.5rem 1rem;\n    background-color: var(--color-black);\n    color: var(--color-white);\n    border-top: 1px solid var(--color-grey);\n    font-size: 80%;\n`\n\nexport const Card = styled.div`\n    overflow: hidden;\n    border-radius: 0.5rem;\n    margin: 1rem auto;\n    display: flex;\n    flex-direction: column;\n    box-shadow 0 0 6px 3px rgba(0, 0, 0, 0.2);\n`","import React, { useState } from 'react'\nimport axios from 'axios'\nimport { navigate } from 'gatsby'\nimport styled from 'styled-components'\nimport { Card, CardHeader, CardBody, CardFooter } from '../components/Card'\nimport { Button } from '../components/Button'\nimport { handleLogin, isLoggedIn } from '../services/auth'\n\nconst LoginButton = styled(Button)`\n    background-color: #fff;\n`\n\nconst FormControl = styled.div`\n    margin: 1rem;\n    & > label {\n        display: block;\n        font-size: 75%;\n        font-weight: bold;\n    }\n    & > input {\n        width: 100%;\n        display: block;\n        padding: 0.25rem;\n        background-color: #fff;\n        border: 1px solid var(--color-grey);\n        border-radius: 0.25rem;\n        outline: none;\n        transition: border 250ms;\n        &:focus {\n            border: 1px solid var(--color-black);\n        }\n    }\n`\n\nconst LoginFormCard = styled(Card)`\n    margin-top: 3rem;\n    max-width: 400px;\n    width: 85%;\n`\n\nconst LoginPage = () => {\n    const [username, setUsername] = useState('user')\n    const [password, setPassword] = useState('password')\n\n    const handleChangeUsername = event => setUsername(event.target.value)\n    const handleChangePassword = event => setPassword(event.target.value)\n    const handleSubmit = event => {\n        event.preventDefault()\n        axios.get('http://localhost:3030/auth/login')\n            .then(response => {\n                console.table(response.data)\n                axios.get('http://localhost:3030/auth/lookup', response.data)\n                    .then(response => {\n                        console.table(response.data)\n                        handleLogin(response.data)\n                    })\n                    .catch(error => console.error(error))\n            })\n            .catch(error => console.error(error))\n    }\n\n    if (isLoggedIn()) {\n        navigate('/')\n    }\n\n    return (\n        <LoginFormCard>\n            <CardHeader>\n                Login Form\n            </CardHeader>\n            <CardBody>\n            <form method=\"post\"\n                onSubmit={ event => {\n                    handleSubmit(event)\n                    navigate('/')\n                }}\n            >\n                <FormControl>\n                    <label htmlFor=\"email-field\">Emaail</label>\n                    <input id=\"email-field\" onChange={ handleChangeUsername } type=\"text\" value={ username } />\n                </FormControl>\n\n                <FormControl>\n                    <label htmlFor=\"pasword-field\">Password</label>\n                    <input id=\"password-field\" onChange={ handleChangePassword } type=\"password\" value={ password } />         \n                </FormControl>\n\n                <FormControl>\n                    <LoginButton>\n                        Login\n                    </LoginButton>\n                </FormControl>\n            </form>\n\n            </CardBody>\n            <CardFooter>\n                Having trouble?\n            </CardFooter>\n        </LoginFormCard>\n    )\n}\n\nexport default LoginPage\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import styled from 'styled-components'\nimport PropTypes from 'prop-types'\n\nexport const Button = styled.button`\n    background-color: ${ props => props.primary ? 'var(--color-primary)' : 'var(--color-white)' };\n    color: ${ props => props.primary ? 'var(--color-white)' : 'var(--color-primary)' };\n    & svg {\n        fill: ${ props => props.primary ? 'var(--color-white)' : 'var(--color-primary)' };\n    }\n    border-radius: ${ props => props.round ? '3px' : 0 };\n    outline: none;\n    border: 0;\n    background-color: transparent;\n    text-transform: uppercase;\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: filter 250ms;\n    &:hover {\n        filter: brightness(0.7);\n    }\n`\n\nButton.propTypes = {\n    round: PropTypes.bool.isRequired,\n    primary: PropTypes.bool.isRequired,\n    secondary: PropTypes.bool.isRequired,\n}\n\nButton.defaultProps = {\n    round: false,\n    primary: false,\n    secondary: false,\n}\n\n","export * from './Button'\n","import { navigate } from '@reach/router'\n\nexport const isBrowser = () => typeof window !== \"undefined\"\n\nexport const getUser = () =>\n    isBrowser() && window.localStorage.getItem(\"gatsbyUser\")\n        ? JSON.parse(window.localStorage.getItem(\"gatsbyUser\"))\n        : {}\n\nconst setUser = user =>\n    window.localStorage.setItem(\"gatsbyUser\", JSON.stringify(user))\n\nexport const handleLogin = ({ email, firstname, lastname }) => {\n    console.log(email, firstname, lastname)\n    if (email.endsWith('@unc.edu')) {\n        setUser({\n            email: email,\n            firstname: firstname,\n            lastname: lastname,\n        })\n    }\n    return false\n}\n\nexport const isLoggedIn = () => {\n    const user = getUser()\n\n    // return !!user.username\n    return true\n}\n\nexport const logout = callback => {\n    setUser({})\n    navigate('/')\n}","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  if (!pageResources) {\n    return null\n  }\n\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n"],"sourceRoot":""}